<%- include ("../partials/header") %>

<body>
  <%- include ("../partials/navBar") %>

  <div class="container my-5 text-white">
    <a href="/" class="btn btn-outline-secondary mb-4">
      <i class="fas fa-arrow-left me-2"></i>Voltar
    </a>

    <h2 class="mb-4">Carrinho de Compras</h2>

    <% if (!cart || cart.length === 0) { %>
      <p>Seu carrinho está vazio.</p>
    <% } else { %>
      <div class="table-responsive">
        <table class="table table-dark table-striped align-middle">
          <thead>
            <tr>
              <th>Jogo</th>
              <th class="text-center">Quantidade</th>
              <th>Preço Unitário</th>
              <th>Subtotal</th>
            </tr>
          </thead>
          <tbody>
            <% cart.forEach(function(item) { %>
              <tr>
                <td><%= item.nome %></td>
                <td class="text-center"><%= item.quantidade %></td>
                <td>R$ <%= item.preco.toFixed(2) %></td>
                <td>R$ <%= (item.preco * item.quantidade).toFixed(2) %></td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>

      <div class="d-flex justify-content-between align-items-center mt-4">
        <h4>Total: R$ <%= total.toFixed(2) %></h4>
        <form action="/carrinho/confirmar" method="POST">
          <button type="submit" class="btn btn-success btn-lg">
            Confirmar Compra
          </button>
        </form>
      </div>
    <% } %>
  </div>

  <%- include ("../partials/footer") %>
</body>

<style>
  body {
    background-color: #212529;
  }
</style>


